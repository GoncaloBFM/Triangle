<!DOCTYPE html>
<html>
<head>
<style type="text/css">
html, body {
  overflow: hidden;
}
</style>
<script id="vertex-shader" type="x-shader/x-vertex">
attribute vec4 vPosition;
uniform vec2 vTranslation;
uniform float angle;
uniform float depth;
uniform float hole;
varying vec2 vPoint;

void main(){
	float x = vPosition.x + vTranslation.x;
	float y = vPosition.y + vTranslation.y;
  vPoint = vec2(x, y);

  float a = angle * sqrt( y * y  + x * x);

  float newX = x * cos(a + hole) - y * sin(a);
  float newY = x * sin(a) + y * cos(a);

  vec2 newPoint = vec2(clamp(newX, -depth, depth), clamp(newY, -depth, depth));

  gl_Position = vec4(newPoint.x,
                     newPoint.y,
                     vPosition.z, 
                     vPosition.w * depth);
}
</script>
<script id="fragment-shader" type="x-shader/x-fragment">
precision mediump float;
uniform vec2 vLightPoint;
varying vec2 vPoint;
void main() {
    float r = abs(vLightPoint.x) / 256.0; //256 = 512 / 2 
    float b = abs(vLightPoint.y) / 256.0; //256 = 1024 / 4
    float g = sqrt(vPoint.y * vPoint.y + vPoint.x * vPoint.x) / 1.4142135;
    float a = 1.0;
    gl_FragColor = vec4(r, b, g, a);
}
</script>
<script type="text/javascript" src="../Common/webgl-utils.js"></script>
<script type="text/javascript" src="../Common/initShaders.js"></script>
<script type="text/javascript" src="../Common/MV.js"></script>
<script type="text/javascript" src="triangle.js"></script>
</head>
<body bgcolor="black">
    <title>Triangle</title>
    <table width="100%" height="1000" border="0">
        <tr>
            <td align="center">
                <canvas id="gl-canvas" width="1000" height="700" tabindex='1'>
                <!--<canvas id="gl-canvas" width="512" height="512">-->
                    Oops... your browser doesn't support the HTML5 canvas element"
                </canvas>
            </td>
        </tr>
    </table>
</body>
</html>